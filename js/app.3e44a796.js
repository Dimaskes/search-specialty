(function(){"use strict";var e={4933:function(e,t,s){var n=s(144),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-app-bar",{attrs:{app:"",color:"primary",dark:""}}),s("v-main",[s("v-container",[s("search-specialty")],1)],1)],1)},r=[],a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search__container"},[s("async-input",{attrs:{items:e.specialtyList,"item-option":"title",groupName:"Специальность","empty-text":"Не найдено специальностей",label:"Врач, заболевания, услуги"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),s("div",{staticClass:"search__actions"},[s("button",{staticClass:"search__button",attrs:{type:"button"},on:{click:e.loadSpecialty}},[e._v(" Найти ")])])],1)},c=[],o=s(9669),l=s.n(o);function u(e="",t=0){return new Promise(((s,n)=>{l().get("json/specialty.json",{params:{search:e,page:t}}).then((e=>s(e.data))).catch((e=>n(e)))}))}var p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.unFocusHandler,expression:"unFocusHandler"}],staticClass:"search__wrapper"},[s("ul",{class:{"search__label-active":e.isActiveLabel},attrs:{id:"search"}},[e.selectedItems.length?s("v-icon",{staticClass:"clear-icon",on:{click:e.clearSelectedItems}},[e._v(" mdi-close ")]):e._e(),e._l(e.selectedItems,(function(t,n){return s("li",{key:t.id||t},[e._v(" "+e._s(t[e.itemOption]||t)+e._s(e.getSelectedPostfix(n))+" ")])})),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchInput,expression:"searchInput",modifiers:{trim:!0}}],ref:"searchInput",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.searchInput},on:{input:[function(t){t.target.composing||(e.searchInput=t.target.value.trim())},e.changeValue],focus:function(t){e.isFocused=!0},blur:function(t){return e.$forceUpdate()}}})],2),s("label",{staticClass:"search__label",class:{"search__label-active":e.searchInput},attrs:{for:"search"}},[e._v(" "+e._s(e.label)+" ")]),s("dropdown-menu",{attrs:{"empty-text":e.emptyText,isOpen:e.isFocused,items:e.filteredItems,search:e.searchInput,option:e.itemOption,"group-name":e.groupName},on:{selectItem:e.selectItem}})],1)},d=[],h=s(6486),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dropdown-list",class:{active:e.isOpen},on:{scroll:e.scrollHandler}},[e.visibleItems.length?s("ul",[e.groupName?s("li",{staticClass:"dropdown-list__item dropdown-list__item-group"},[e._v(" "+e._s(e.groupName)+" ")]):e._e(),e._l(e.visibleItems,(function(t){return s("li",{key:t.id||t,staticClass:"dropdown-list__item",domProps:{innerHTML:e._s(e.getOptionText(t[e.option]||t))},on:{click:function(s){return s.preventDefault(),e.selectItem(t)}}})}))],2):s("div",{staticClass:"dropdown-list__empty"},[e._v(e._s(e.emptyText))])])},f=[],v={name:"dropdown-menu",props:{isOpen:{type:Boolean,required:!0},items:{type:Array,required:!0},option:{type:String,default:""},groupName:{type:String,default:""},search:{type:String,default:""},emptyText:{type:String,required:!0}},data(){return{visibleItems:[],pageSize:10}},watch:{items:function(e){this.visibleItems=e.slice(0,this.pageSize)}},methods:{getOptionText(e){if(!this.search||!this.hasMatchedSubstring(e,this.search))return e;const t=e.toLowerCase().indexOf(this.search.toLowerCase());return this.getHighlightedText(e,t,this.search.length)},getHighlightedText(e,t,s){return e.slice(0,t)+"<b>"+e.slice(t,t+s)+"</b>"+e.slice(t+s,e.length)},hasMatchedSubstring(e,t){return e.toLowerCase().includes(t.toLowerCase())},selectItem(e){this.$emit("selectItem",e)},scrollHandler(e){const t=this.visibleItems.length;this.isScrollEnd(e)&&t<this.items.length&&(this.visibleItems=[...this.visibleItems,...this.items.slice(t,t+this.pageSize)])},isScrollEnd(e){return e.target.offsetHeight+e.target.scrollTop>=e.target.scrollHeight}}},g=v,y=s(1001),_=(0,y.Z)(g,m,f,!1,null,"06388942",null),b=_.exports,I={name:"async-input",components:{DropdownMenu:b},props:{value:{type:String,required:!0},items:{type:Array,default:()=>[]},itemOption:{type:String,default:""},label:{type:String,required:!0},emptyText:{type:String,required:!0},groupName:{type:String,default:""}},data(){return{isFocused:!1,searchInput:"",selectedItems:[]}},computed:{filteredItems(){return this.excludeSelectedItemsArr.filter((e=>e.title.toLowerCase().includes(this.value.toLowerCase())))},excludeSelectedItemsArr(){return this.items.filter((e=>!this.selectedItems.includes(e)))},isActiveLabel(){return this.selectedItems.length||this.value||this.isFocused}},methods:{changeValue:(0,h.debounce)((function(){this.$emit("input",this.searchInput)}),600),selectItem(e){this.selectedItems.push(e),this.clearSearchInput(),this.$refs.searchInput.focus()},getSelectedPostfix(e){return e+1===this.selectedItems.length?"":","},clearSelectedItems(){this.selectedItems.splice(0,this.selectedItems.length)},clearSearchInput(){this.searchInput="",this.$emit("input","")},unFocusHandler(){this.isFocused=!1,this.clearSearchInput()}}},S=I,w=s(3453),x=s.n(w),O=s(24),C=s(6392),k=s.n(C),T=s(7860),Z=(0,y.Z)(S,p,d,!1,null,"333e9237",null),j=Z.exports;x()(Z,{VIcon:O.Z}),k()(Z,{ClickOutside:T.Z});var L={name:"search-specialty",components:{AsyncInput:j},data(){return{specialtyList:[],search:""}},methods:{loadSpecialty(){u().then((({data:e})=>{this.specialtyList=e})).catch((e=>{console.log(`Error in method GET json/specialty.json - ${e}`)}))}},mounted(){this.loadSpecialty()}},$=L,A=(0,y.Z)($,a,c,!1,null,"1d57d996",null),H=A.exports,E={name:"App",components:{SearchSpecialty:H}},F=E,P=s(7524),M=s(3827),N=s(2255),V=s(7877),q=(0,y.Z)(F,i,r,!1,null,"1f061d8b",null),z=q.exports;x()(q,{VApp:P.Z,VAppBar:M.Z,VContainer:N.Z,VMain:V.Z});var B=s(1910);n.Z.use(B.Z);var D=new B.Z({}),G=s(2649),U=s.n(G);n.Z.config.productionTip=!1,n.Z.use(U()),new n.Z({vuetify:D,render:e=>e(z)}).$mount("#app")}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=e,function(){var e=[];s.O=function(t,n,i,r){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],r=e[u][2];for(var c=!0,o=0;o<n.length;o++)(!1&r||a>=r)&&Object.keys(s.O).every((function(e){return s.O[e](n[o])}))?n.splice(o--,1):(c=!1,r<a&&(a=r));if(c){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,i,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,r,a=n[0],c=n[1],o=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in c)s.o(c,i)&&(s.m[i]=c[i]);if(o)var u=o(s)}for(t&&t(n);l<a.length;l++)r=a[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},n=self["webpackChunkclinic_task"]=self["webpackChunkclinic_task"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(4933)}));n=s.O(n)})();
//# sourceMappingURL=app.3e44a796.js.map